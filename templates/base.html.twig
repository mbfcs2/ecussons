<!DOCTYPE html>
<html class="has-navbar-fixed-top">
    <head>
        <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		{{ encore_entry_link_tags('app') }}
        <title>{% block title %}Ecussons{% endblock %}</title>
        {% block stylesheets %}{% endblock %}
    </head>
    <body>
	
	
	<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
	  <div class="navbar-brand">
		<a class="navbar-item" href="/">
		  <img src="/img/logo.png" height="28">
		</a>
		<a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
		  <span aria-hidden="true"></span>
		  <span aria-hidden="true"></span>
		  <span aria-hidden="true"></span>
		</a>
	  </div>

	  <div id="navbarBasicExample" class="navbar-menu">
		<div class="navbar-start">
		  <a class="navbar-item">
			Accueil
		  </a>

		  <div class="navbar-item has-dropdown is-hoverable">
			<a class="navbar-link">
			  A propos
			</a>

			<div class="navbar-dropdown">
			  <a class="navbar-item">
				En savoir plus
			  </a>
			  <a class="navbar-item">
				Crédits
			  </a>
			</div>
		  </div>

		<div class="navbar-item" id="search_head">
			<input class="input is-primary typeahead" type="text" placeholder="Destinations">
		</div>

		</div>

		<div class="navbar-end">
		  <div class="navbar-item">
			<div class="buttons">
				{% if is_granted('IS_AUTHENTICATED_FULLY') %}
					<a class="button">
						{{ app.user.login }}
					  </a>
				{% else %}
					<a class="button is-primary" id="connexion">
				Connexion
			  </a>
				{% endif %}
			  
			</div>
		  </div>
		</div>
	  </div>
	</nav>
	
	
	
	
	
	
		{% block hero %}{% endblock %}
        <div class="container" style="padding-top:30px">
		{% block body %}{% endblock %}
		</div>

		<footer class="footer has-background-secondary" style="margin-top: 30px;">
		  <div class="content has-text-centered">
			<p>
				Ce site possède un footer.
			</p>
		  </div>
		</footer>
        {% block javascripts %}{% endblock %}
	{{ encore_entry_script_tags('app') }}
	<script>
		document.addEventListener('DOMContentLoaded', () => {

		  // Get all "navbar-burger" elements
		  const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

		  // Check if there are any navbar burgers
		  if ($navbarBurgers.length > 0) {

			// Add a click event on each of them
			$navbarBurgers.forEach( el => {
			  el.addEventListener('click', () => {

				// Get the target from the "data-target" attribute
				const target = el.dataset.target;
				const $target = document.getElementById(target);

				// Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
				el.classList.toggle('is-active');
				$target.classList.toggle('is-active');

			  });
			});
		  }
		  
		  // connexion
		  const $bouton_connexion = document.getElementById("connexion") ;
		  const $modal_close_bouton = document.getElementById("connexion_modal_close") ;
		  const $modal_connexion = document.getElementById("connexion_modal");
		  if ($bouton_connexion !== null) {
			  $bouton_connexion.addEventListener('click', () => {
				  $modal_connexion.classList.add('is-active');
			  });
		  }
		  $modal_close_bouton.addEventListener('click', () => {
				$modal_connexion.classList.remove('is-active') ;
		  });

		});



		</script>

		<div class="modal" id="connexion_modal">
		  <div class="modal-background"></div>
		  <div class="modal-card">
			<form method="post" action="/login">
				<header class="modal-card-head">
				  <p class="modal-card-title">Connexion</p>
				  <button class="delete" aria-label="close" id="connexion_modal_close">Fermer</button>
				</header>
				<section class="modal-card-body">
					
					<label for="inputEmail" class="sr-only">Email</label>
					<input type="email" value="" name="email" id="inputEmail" class="form-control" placeholder="Email" required autofocus>
					<label for="inputPassword" class="sr-only">Password</label>
					<input type="password" name="password" id="inputPassword" class="form-control" placeholder="Password" required>

					<input type="hidden" name="_csrf_token"
						   value="{{ csrf_token('authenticate') }}"
					>

		
					<div class="checkbox mb-3">
						<label>
							<input type="checkbox" name="_remember_me"> Remember me
						</label>
					</div>
					
				</section>
				<footer class="modal-card-foot">
				  <button class="button is-success" type="submit">Valider</button>
				  <button class="button">M'inscrire</button>
				</footer>
			</form>
		  </div>
		</div>
    </body>
</html>
